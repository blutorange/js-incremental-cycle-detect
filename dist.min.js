(function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.IncrementalTopsort=a()}})(function(){var a;return function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b}()({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("tslib"),e=a("./src/GraphAdapterBuilder"),f=a("./src/Header"),g=a("./src/Hook"),h=a("./src/Pk");d.__exportStar(a("./src/GraphAdapterBuilder"),c),c.create=function(a){switch(void 0===a&&(a={}),a.algorithm=a.algorithm||f.IncrementalTopologicalSortAlgorithm.PK,a.algorithm){case f.IncrementalTopologicalSortAlgorithm.PK:default:{var b=new h.PkImpl,c=a.adapter||new e.GraphAdapterBuilder().build(),d=new g.HookImpl(c,b);return d}}}},{"./src/GraphAdapterBuilder":2,"./src/Header":3,"./src/Hook":4,"./src/Pk":5,tslib:6}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={done:!0,value:void 0},e={next:function(){return d}},f=function(){function a(a){this.map=new(a||Map)}return a.prototype.deleteData=function(a){this.map.delete(a)},a.prototype.getData=function(a){return this.map.get(a)},a.prototype.setData=function(a,b){this.map.set(a,b)},a}();c.MapAssociator=f;var g=function(){function a(a,b){this.forward=new(b||Map),this.backward=new(b||Map),this.vertices=new(a||Set),this.setConstructor=a||Set}return a.prototype.addEdge=function(a,c){var d=this.forward.get(a),e=this.backward.get(c);d||this.forward.set(a,d=new this.setConstructor),e||this.backward.set(c,e=new this.setConstructor),d.add(c),e.add(a)},a.prototype.addVertex=function(a){this.vertices.add(a)},a.prototype.getSuccessorsOf=function(a){var b=this.forward.get(a);return b?b.values():e},a.prototype.getPredecessorsOf=function(a){var c=this.backward.get(a);return c?c.values():e},a.prototype.hasEdge=function(a,b){var c=this.forward.get(a);return!!c&&c.has(b)},a.prototype.hasVertex=function(a){return this.vertices.has(a)},a.prototype.deleteEdge=function(a,c){var d=this.forward.get(a),e=this.backward.get(c);d&&d.delete(c),e&&e.delete(a)},a.prototype.deleteVertex=function(a){this.vertices.delete(a)},a}();c.GenericManipulable=g;var h=function(){function a(a,b){this.associatable=a,this.manipulable=b}return a.prototype.hasEdge=function(a,b){return this.manipulable.hasEdge(a,b)},a.prototype.hasVertex=function(a){return this.manipulable.hasVertex(a)},a.prototype.deleteData=function(a){this.associatable.deleteData(a)},a.prototype.getData=function(a){return this.associatable.getData(a)},a.prototype.setData=function(a,b){this.associatable.setData(a,b)},a.prototype.addEdge=function(a,b){this.manipulable.addEdge(a,b)},a.prototype.addVertex=function(a){this.manipulable.addVertex(a)},a.prototype.deleteEdge=function(a,b){this.manipulable.deleteEdge(a,b)},a.prototype.deleteVertex=function(a){this.manipulable.deleteVertex(a)},a.prototype.getSuccessorsOf=function(a){return this.manipulable.getSuccessorsOf(a)},a.prototype.getPredecessorsOf=function(a){return this.manipulable.getPredecessorsOf(a)},a}(),i=function(){function a(){}return a.prototype.data=function(a){return this.manipulable=a,this},a.prototype.associate=function(a){return this.associatable=a,this},a.prototype.build=function(){var a=this.associatable||new f,b=this.manipulable||new g;return new h(a,b)},a}();c.GraphAdapterBuilder=i},{}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d;(function(a){a[a.PK=0]="PK"})(d=c.IncrementalTopologicalSortAlgorithm||(c.IncrementalTopologicalSortAlgorithm={}))},{}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a,b){this.adapter=a,this.algo=b}return a.prototype.addVertex=function(a){var b=this.algo.createVertex(this.adapter,a);this.adapter.addVertex(a),this.adapter.setData(a,b)},a.prototype.addEdge=function(a,b){return(this.adapter.hasVertex(a)||this.addVertex(a),this.adapter.hasVertex(b)||this.addVertex(b),!!this.adapter.hasEdge(a,b))||!!this.algo.addEdge(this.adapter,a,b)&&(this.adapter.addEdge(a,b),!0)},a.prototype.deleteEdge=function(a,b){this.algo.deleteEdge(a,b),this.adapter.deleteEdge(a,b)},a.prototype.deleteVertex=function(a){this.adapter.deleteData(a),this.algo.deleteVertex(this.adapter,a),this.adapter.deleteVertex(a)},a}();c.HookImpl=d},{}],5:[function(a,b,c){"use strict";function d(a,b,c){for(var d=[],e=b.length,f=c.length,g=0,h=0;g<e&&h<f;){var i=a.getData(b[g]),j=a.getData(c[h]);i<j?(g+=1,d.push(i)):(h+=1,d.push(j))}for(;g<e;){var i=a.getData(b[g]);g+=1,d.push(i)}for(;h<f;){var j=a.getData(c[h]);h+=1,d.push(j)}return d}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(){this.id=0,this.stack=[],this.deltaXyB=[],this.deltaXyF=[]}return a.prototype.createVertex=function(){var a=this.id++;return{order:a,visited:!1}},a.prototype.deleteEdge=function(){},a.prototype.deleteVertex=function(){},a.prototype.addEdge=function(a,b,c){var d=a.getData(c).order,e=a.getData(b).order;if(this.deltaXyB=[],this.deltaXyF=[],d<e){if(!this.dfs_f(c,a,e))return!1;this.dfs_b(b,a,d),this.reorder(a)}return!0},a.prototype.dfs_f=function(a,b,c){for(this.stack.push(a);0<this.stack.length;){var d=this.stack.pop();b.getData(d).visited=!0,this.deltaXyF.push(d);for(var e,f=b.getSuccessorsOf(d),g=f.next();!g.done;g=f.next()){if(e=b.getData(g.value),e.order===c)return!1;!e.visited&&e.order<c&&this.stack.push(g.value)}}return!0},a.prototype.dfs_b=function(a,b,c){for(this.stack.push(a);0<this.stack.length;){var d=this.stack.pop();b.getData(d).visited=!0,this.deltaXyB.push(d);for(var e,f=b.getPredecessorsOf(d),g=f.next();!g.done;g=f.next())e=b.getData(g.value),!e.visited&&c<e.order&&this.stack.push(g.value)}},a.prototype.sort=function(a,b){b.sort(function(b,c){return a.getData(b).order-a.getData(c).order})},a.prototype.load=function(a,b,c){for(var d=0,e=b.length;d<e;++d){var f=b[d],g=a.getData(f);g.visited=!1,c.push(f)}},a.prototype.reorder=function(a){this.sort(a,this.deltaXyF),this.sort(a,this.deltaXyB);var b=[];this.load(a,this.deltaXyB,b),this.load(a,this.deltaXyF,b);for(var c=d(a,this.deltaXyB,this.deltaXyF),e=0,f=b.length;e<f;++e)a.getData(b[e]).order=c[e]},a}();c.PkImpl=e},{}],6:[function(b,c){(function(b){var d,e,f,g,h,i,j,k,l,n,m,o,s,p,q,r,t,u,v;(function(d){function e(a,b){return a!==f&&("function"==typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0),function(c,d){return a[c]=b?b(c,d):d}}var f="object"==typeof b?b:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof a&&a.amd?a("tslib",["exports"],function(a){d(e(f,e(a)))}):"object"==typeof c&&"object"==typeof c.exports?d(e(f,e(c.exports))):d(e(f))})(function(a){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};d=function(a,d){function b(){this.constructor=a}c(a,d),a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)},e=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},f=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&(c[d[e]]=a[d[e]]);return c},g=function(a,b,e,f){var g,h=arguments.length,c=3>h?b:null===f?f=Object.getOwnPropertyDescriptor(b,e):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(a,b,e,f);else for(var j=a.length-1;0<=j;j--)(g=a[j])&&(c=(3>h?g(c):3<h?g(b,e,c):g(b,e))||c);return 3<h&&c&&Object.defineProperty(b,e,c),c},h=function(a,b){return function(c,d){b(c,d,a)}},i=function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},j=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},k=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;k;)try{if(e=1,h&&(i=h[2&c[0]?"return":c[0]?"throw":"next"])&&!(i=i.call(h,c[1])).done)return i;switch((h=0,i)&&(c=[0,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return k.label++,{value:c[1],done:!1};case 5:k.label++,h=c[1],c=[0];continue;case 7:c=k.ops.pop(),k.trys.pop();continue;default:if((i=k.trys,!(i=0<i.length&&i[i.length-1]))&&(6===c[0]||2===c[0])){k=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){k.label=c[1];break}if(6===c[0]&&k.label<i[1]){k.label=i[1],i=c;break}if(i&&k.label<i[2]){k.label=i[2],k.ops.push(c);break}i[2]&&k.ops.pop(),k.trys.pop();continue;}c=b.call(a,k)}catch(a){c=[6,a],h=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,h,i,j,k={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return j={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(j[Symbol.iterator]=function(){return this}),j},l=function(a,b){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])},n=function(a){var b="function"==typeof Symbol&&a[Symbol.iterator],c=0;return b?b.call(a):{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}}},m=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,f,g=c.call(a),h=[];try{for(;(void 0===b||0<b--)&&!(d=g.next()).done;)h.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=g["return"])&&c.call(g)}finally{if(f)throw f.error}}return h},o=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(m(arguments[b]));return a},s=function(a){return this instanceof s?(this.v=a,this):new s(a)},p=function(a,b,c){function d(c){m[c]&&(l[c]=function(d){return new Promise(function(f,a){1<g.push([c,d,f,a])||e(c,d)})})}function e(a,b){try{f(m[a](b))}catch(a){k(g[0][3],a)}}function f(a){a.value instanceof s?Promise.resolve(a.value.v).then(h,j):k(g[0][2],a)}function h(a){e("next",a)}function j(a){e("throw",a)}function k(a,b){(a(b),g.shift(),g.length)&&e(g[0][0],g[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,m=c.apply(a,b||[]),g=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l},q=function(a){function b(b,e){c[b]=a[b]?function(c){return(d=!d)?{value:s(a[b](c)),done:"return"===b}:e?e(c):c}:e}var c,d;return c={},b("next"),b("throw",function(a){throw a}),b("return"),c[Symbol.iterator]=function(){return this},c},r=function(a){function b(b){d[b]=a[b]&&function(d){return new Promise(function(e,f){d=a[b](d),c(e,f,d.done,d.value)})}}function c(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,e=a[Symbol.asyncIterator];return e?e.call(a):(a="function"==typeof n?n(a):a[Symbol.iterator](),d={},b("next"),b("throw"),b("return"),d[Symbol.asyncIterator]=function(){return this},d)},t=function(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a},u=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},v=function(a){return a&&a.__esModule?a:{default:a}},a("__extends",d),a("__assign",e),a("__rest",f),a("__decorate",g),a("__param",h),a("__metadata",i),a("__awaiter",j),a("__generator",k),a("__exportStar",l),a("__values",n),a("__read",m),a("__spread",o),a("__await",s),a("__asyncGenerator",p),a("__asyncDelegator",q),a("__asyncValues",r),a("__makeTemplateObject",t),a("__importStar",u),a("__importDefault",v)})}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}]},{},[1])(1)});